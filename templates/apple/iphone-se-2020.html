
<!DOCTYPE html>
<html>

<head>
        <title>iphone 8</title>
        <link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>
<body>


        <div class="nav">
                <a href="/index.html">Home</a>
        </div>

        <p class="search-results">Search results</p>


        <div id="box1" class="box"></div>
        <div id="box2" class="box"></div>
        <div id="box3" class="box"></div>
        <div id="box4" class="box"></div>
        <div id="box5" class="box"></div>
        <div id="box6" class="box"></div>
        <div id="box7" class="box"></div>
        <div id="box8" class="box"></div>
        <div id="box9" class="box"></div>
        <div id="box10" class="box"></div>
        <div id="box11" class="box"></div>
        <div id="box12" class="box"></div>
        <div id="box13" class="box"></div>
        <div id="box14" class="box"></div>
        <div id="box15" class="box"></div>

      
        <script >

function elementJS(ids) {
        var aTag = document.createElement("a");
        aTag.innerHTML = "name";
        
        aTag.setAttribute("class","link-txt");
        aTag.setAttribute("id","name"+ids);

        document.getElementById('box'+ids).appendChild(aTag);

        var price_value = document.createElement("p");
        price_value.innerHTML = "price";
        price_value.setAttribute("class","price-value");
        price_value.setAttribute("id","price"+ids);
        document.getElementById('box'+ids).appendChild(price_value);

        var normalPrice_Ptag = document.createElement("p");
        
        normalPrice_Ptag.setAttribute("class","normal-price");
        normalPrice_Ptag.setAttribute("id","normal-price"+ids);
        document.getElementById('box'+ids).appendChild(normalPrice_Ptag);

        var discount_Tag = document.createElement("p");
        
        discount_Tag.setAttribute("class","discount");
        discount_Tag.setAttribute("id","discount"+ids);
        document.getElementById('box'+ids).appendChild(discount_Tag);


        var brand_img = document.createElement("img");
        
        brand_img.setAttribute("class","brand");
        brand_img.setAttribute("id","brand"+ids);
        document.getElementById('box'+ids).appendChild(brand_img);

        var divImg = document.createElement("div");
        divImg.setAttribute("class", "img-box");
        divImg.setAttribute("id", "img-box-"+ids);
        document.getElementById('box'+ids).appendChild(divImg);

        // phone img
        var img = document.createElement("img");
        img.setAttribute("class","phone-img");
        img.setAttribute("id", "img"+ids);
        document.getElementById("img-box-"+ids).appendChild(img);


        var divLink = document.createElement("div");
        divLink.setAttribute("class", "link-button");
        divLink.setAttribute("id", "link-button-"+ids);

        document.getElementById('box'+ids).appendChild(divLink);

        var aLink = document.createElement("a");
        aLink.innerHTML = "visit website";
        

        aLink.setAttribute("id","link"+ids);

        document.getElementById('link-button-'+ids).appendChild(aLink);
}

var i =1;
for (i=1 ; i<16; i++){
        elementJS(i);
}



function phoneData(idIndex, jsonDataIndex ,fileFormat, brand ,normalPrice, name ,img) {
  
  
  var JsonData = fileFormat.links[jsonDataIndex].price ;
  
  var JsonDataInt = JsonData.slice(1);
  var ReplaceComma = parseFloat(JsonDataInt.replace(/,/g, ''));
  var differenceInPrice = normalPrice - ReplaceComma ;

  var percentValue = (parseInt(differenceInPrice) / normalPrice ) * 100   ;

  var roundedPercentValue = Math.round(percentValue) ;

  if (brand == "a") {
      document.getElementById('price'+idIndex).innerHTML = JsonData.slice(0,-3)  ;
      document.getElementById('brand'+idIndex).src = "###########https://cdn.clipart.email/997b00858c031976500e16c850dd3626_transparent-background-amazonin-logo-png_350-350.png"  ;
      document.getElementById("brand"+idIndex).style.top = "80px";

   
  }

  if (brand == "f"){
     document.getElementById('price'+idIndex).innerHTML = fileFormat.links[jsonDataIndex].price  ;    
     document.getElementById('brand'+idIndex).src = "#######https://cdn.freebiesupply.com/logos/large/2x/flipkart-logo-png-transparent.png"  ;
     document.getElementById("img"+idIndex).style.width = "110px";

        
  }
  
  document.getElementById('discount'+idIndex).innerHTML = roundedPercentValue + "% <span class="+"off"+">Off </span>" ;
  document.getElementById('normal-price'+idIndex).innerHTML = "<s>"+normalPrice+" â‚¹</s>" ;
  document.getElementById('img'+idIndex).src = img ;
  document.getElementById('link'+idIndex).href = fileFormat.links[jsonDataIndex].link ;
  document.getElementById('name'+idIndex).innerHTML = name ;

  if (roundedPercentValue == 0) {
        
        document.getElementById("normal-price"+idIndex).style.display = "none" ;
        document.getElementById("discount"+idIndex).style.display = "none" ;
  }
  
  
  

}

fetch('/json/india/amazon_in.json')
  .then(res => res.json())
  .then((json) => {


     
     

    
    


     
  })

  fetch('/json/india/flipkart.json')
  .then(res => res.json())
  .then((json) => {

      phoneData(4,42 , json , "f" ,  42500 , "iPhone SE 2020 (Red, 64 GB)" , "https://rukminim1.flixcart.com/image/416/416/k9loccw0/mobile/6/8/g/apple-iphone-se-mxvv2hn-a-original-imafrcqmfxhcrpsb.jpeg?q=70");
      phoneData(5, 43 , json , "f" , 47800 , "iPhone SE 2020 (White, 128 GB)" , "https://rukminim1.flixcart.com/image/416/416/k9loccw0/mobile/6/b/z/apple-iphone-se-mxd12hn-a-original-imafrcqfsuzwa3dz.jpeg?q=70");
      phoneData(6, 44 , json , "f" , 58300 , "iPhone SE 2020 (Black, 256 GB)" , "https://rukminim1.flixcart.com/image/416/416/k9loccw0/mobile/p/z/q/apple-iphone-se-mxd02hn-a-original-imafrcpjfehbbqgb.jpeg?q=70");
      
      phoneData(7, 42 , json , "f" , 42500 , "iPhone SE 2020 (Black, 64 GB)" , "https://rukminim1.flixcart.com/image/416/416/k9loccw0/mobile/p/z/q/apple-iphone-se-mxd02hn-a-original-imafrcpjfehbbqgb.jpeg?q=70");
      document.getElementById("link7").href = "https://www.flipkart.com/apple-iphone-se-black-64-gb/p/itm832dd5963a08d?pid=MOBFRFXHCKWDAC4A&lid=LSTMOBFRFXHCKWDAC4AEQROVZ&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color&otracker=AS_QueryStore_OrganicAutoSuggest_1_9_na_na_na";

      phoneData(8, 42 , json , "f" , 42500 , "iPhone SE 2020 (White, 64 GB)" , "https://rukminim1.flixcart.com/image/416/416/k9loccw0/mobile/6/b/z/apple-iphone-se-mxd12hn-a-original-imafrcqfsuzwa3dz.jpeg?q=70");
      document.getElementById("link8").href = "https://www.flipkart.com/apple-iphone-se-white-64-gb/p/itmaf546e27c4eaf?pid=MOBFRFXHMEZRCXRV&lid=LSTMOBFRFXHMEZRCXRVDHSVH1&marketplace=FLIPKART&sattr[]=color&sattr[]=storage&st=color";




      
      phoneData(9, 34 , json , "f" ,121300 , "iPhone SE 2020 (, 256 GB)" , "");
        
  

        

  })  
       
                









        </script>

        <script src="/js/main.js"></script>
        

</body>
</html>








