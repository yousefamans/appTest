


<!DOCTYPE html>
<html>
<head>
        <title>iphone 8</title>
        <link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>
<body>

        <div class="nav">
                <a href="/index.html">Home</a>
        </div>


        <div id="box1" class="box"></div>
        <div id="box2" class="box"></div>
        <div id="box3" class="box"></div>
        <div id="box4" class="box"></div>
        <div id="box5" class="box"></div>
        <div id="box6" class="box"></div>
        <div id="box7" class="box"></div>
        <div id="box8" class="box"></div>
        <div id="box9" class="box"></div>
        <div id="box10" class="box"></div>
        <div id="box11" class="box"></div>
        <div id="box12" class="box"></div>
        <div id="box13" class="box"></div>
        <div id="box14" class="box"></div>
        <div id="box15" class="box"></div>

    

        <script >

function elementJS(ids) {
        var aTag = document.createElement("a");
        aTag.innerHTML = "name";
        
        aTag.setAttribute("class","link-txt");
        aTag.setAttribute("id","name"+ids);

        document.getElementById('box'+ids).appendChild(aTag);

        var h3 = document.createElement("h3");
        h3.innerHTML = "price";
        h3.setAttribute("class","price");
        h3.setAttribute("id","price"+ids);
        document.getElementById('box'+ids).appendChild(h3);

        var normalPrice_Ptag = document.createElement("p");
        
        normalPrice_Ptag.setAttribute("class","normal-price");
        normalPrice_Ptag.setAttribute("id","normal-price"+ids);
        document.getElementById('box'+ids).appendChild(normalPrice_Ptag);

        var discount_Tag = document.createElement("p");
        
        discount_Tag.setAttribute("class","discount");
        discount_Tag.setAttribute("id","discount"+ids);
        document.getElementById('box'+ids).appendChild(discount_Tag);


        var brand_img = document.createElement("img");
        
        brand_img.setAttribute("class","brand");
        brand_img.setAttribute("id","brand"+ids);
        document.getElementById('box'+ids).appendChild(brand_img);

        var divImg = document.createElement("div");
        divImg.setAttribute("class", "img-box");
        divImg.setAttribute("id", "img-box-"+ids);
        document.getElementById('box'+ids).appendChild(divImg);

        // phone img
        var img = document.createElement("img");
        img.setAttribute("class","phone-img");
        img.setAttribute("id", "img"+ids);
        document.getElementById("img-box-"+ids).appendChild(img);


        var divLink = document.createElement("div");
        divLink.setAttribute("class", "link-button");
        divLink.setAttribute("id", "link-button-"+ids);

        document.getElementById('box'+ids).appendChild(divLink);

        var aLink = document.createElement("a");
        aLink.innerHTML = "visit website";
        

        aLink.setAttribute("id","link"+ids);

        document.getElementById('link-button-'+ids).appendChild(aLink);
}

var i =1;
for (i=1 ; i<16; i++){
        elementJS(i);
}



function phoneData(idIndex, jsonDataIndex ,fileFormat, brand ,normalPrice, name ,img) {
  
  document.getElementById('price'+idIndex).innerHTML = fileFormat.links[jsonDataIndex].price  ;
  var JsonData = fileFormat.links[jsonDataIndex].price ;
  
  if (brand == "es") {
   var JsonDataInt = JsonData.slice(0,-4);
   var ReplaceComma = parseFloat(JsonDataInt.replace(/,/g, ''));
   var differenceInPrice = normalPrice - ReplaceComma ;

   var percentValue = (parseInt(differenceInPrice) / normalPrice ) * 100   ;

   var roundedPercentValue = Math.round(percentValue) ;

   
  }

  if (brand == "mkr"){
      
      var ReplaceComma = parseFloat(JsonData.replace(/.-/g, ''));
      var differenceInPrice = normalPrice - ReplaceComma ;

      var percentValue = (parseInt(differenceInPrice) / normalPrice ) * 100   ;

      var roundedPercentValue = Math.round(percentValue) ;

      document.getElementById('price'+idIndex).innerHTML =   fileFormat.links[jsonDataIndex].price + " €" ;   
  }


  document.getElementById('discount'+idIndex).innerHTML = roundedPercentValue + "%" ;
  document.getElementById('normal-price'+idIndex).innerHTML = "<s>"+normalPrice+" €</s>" ;
  document.getElementById('img'+idIndex).src = img ;
  document.getElementById('link'+idIndex).href = fileFormat.links[jsonDataIndex].link ;
  document.getElementById('name'+idIndex).innerHTML = name ;

  if (roundedPercentValue == 0) {
        
        document.getElementById("normal-price"+idIndex).style.display = "none" ;
        document.getElementById("discount"+idIndex).style.display = "none" ;
  }
  
  
}

fetch('/json/spain/amazon_spain.json')
  .then(res => res.json())
  .then((json) => {


     phoneData(1, 85 , json , "es" , 959 , "Samsung Note 10 (Brillante , 256 GB)" , "https://images-na.ssl-images-amazon.com/images/I/711%2B5W2oaNL._AC_SL1500_.jpg");
     phoneData(2, 86 , json , "es" , 1209 , "Samsung Note 10 + (Negro, 512 GB)" , "https://images-na.ssl-images-amazon.com/images/I/71slPw%2BZWvL._AC_SL1500_.jpg");
    
     
    
    


     
  })

  fetch('/json/spain/mediamarkt_spain.json')
  .then(res => res.json())
  .then((json) => {

     phoneData(9, 41 , json , "mkr" , 853 , "REACONDICIONADO Samsung Note 10 + (Negro, 256 GB)" , "https://assets.mmsrg.com/isr/166325/c1/-/pixelboxx-mss-81987890/fee_786_587_png/REACONDICIONADO-M%C3%B3vil---Samsung-Galaxy-Note-10----Negro--256-GB--12-GB-RAM--6.8%22-WQHD---Exynos-9825--4300-mAh");
     phoneData(10, 42 , json , "mkr" , 759 , "Samsung Note 10 (Gris, 256 GB)" , "https://assets.mmsrg.com/isr/166325/c1/-/ASSET_MMS_73968429/fee_786_587_png/M%C3%B3vil---Samsung-Galaxy-Note-10--Gris--256-GB--8-GB-RAM--6.3%22-Full-HD---Exynos-9825--3500-mAh--Android");
     phoneData(11, 43 , json , "mkr" , 999 , "Samsung Note 10 + 5G (Gris, 256 GB)" , "https://assets.mmsrg.com/isr/166325/c1/-/ASSET_MMS_70778756/fee_325_225_png/M%C3%B3vil---Samsung-Galaxy-Note-10----Gris--256-GB--12-GB-RAM--6.8%22-WQHD---Exynos-9825--4300-mAh--Android");
     phoneData(12, 44 , json , "mkr" , 953 , "Samsung Note 10 + (Negro, 256 GB)" , "https://assets.mmsrg.com/isr/166325/c1/-/pixelboxx-mss-81987890/fee_325_225_png/M%C3%B3vil---Samsung-Galaxy-Note-10----Negro--256-GB--12-GB-RAM--6.8%22-WQHD---Exynos-9825--4300-mAh--Android");
     phoneData(13, 45 , json , "mkr" , 743 , "REACONDICIONADO Samsung Note 10 (Aurora, 256 GB)" , "https://assets.mmsrg.com/isr/166325/c1/-/ASSET_MMS_76161907/fee_786_587_png/REACONDICIONADO-M%C3%B3vil---Samsung-Galaxy-Note-10--6.3%22--8GB--256-GB--Android-9.0--Triple-camera--Aura-Glow");
     phoneData(14, 46 , json , "mkr" , 853 , "REACONDICIONADO Samsung Note 10 (Negro,  GB)" , "https://assets.mmsrg.com/isr/166325/c1/-/pixelboxx-mss-81987890/fee_786_587_png/REACONDICIONADO-M%C3%B3vil---Samsung-Galaxy-Note-10----Negro--256-GB--12-GB-RAM--6.8%22-WQHD---Exynos-9825--4300-mAh");
        

  })

  

  var x = document.getElementsByClassName("box")
  var i;
  for (i = 0; i < x.length; i++) {
    x[i].style.height = "250px";
  }  
       
                
        </script>

        <script src="/js/main.js"></script>
        

</body>
</html>













